<!DOCTYPE html>
<html>
  <head>
    <title>Faire errance</title>

    <link rel="stylesheet" href="style.css" type="text/css" />
  </head>
    <link rel="stylesheet" href="js/leaflet/leaflet.css" />
    <script src="js/leaflet/leaflet.js"></script> <!-- or use leaflet-src.js --!>
  <body>
     <div id="map" style="height: 400px; width: 100%;"></div>
     <img src="images/fleuve.png" id="mapimage" style="display: none;">
    
    <script>
    function init() {
      var map = L.map('map', {
        maxZoom: 24,
        minZoom: -24,
        crs: L.CRS.Simple
      }).setView([image.height/2, image.width/2], -3);

      //map.setMaxBounds(new L.LatLngBounds([0,500], [500,0]));

      var imageUrl = 'images/fleuve.png'
      var imageBounds = [[image.width,0], [0,image.height]];

      L.imageOverlay(imageUrl, imageBounds).addTo(map);

      map.fitBounds(imageBounds);

      var geojsonFeature = {
        "type": "Feature",
        "properties": {
            "name": "Coors Field",
            "amenity": "Baseball Stadium",
            "popupContent": "This is where the Rockies play!"
      },
        "geometry": {
            "type": "Point",
            "coordinates": [0, 0]
        }
      };

      L.geoJson(geojsonFeature, {
        onEachFeature: test
      }).addTo(map);

      let rect = L.rectangle(L.latLngBounds([0, 0], [1000, 1000]), {stroke: false, fillOpacity: 0});
      rect.addTo(map);
      rect.addEventListener('click', x=> {console.log('rect clicked')});
    }

    function test(feature, layer) {
      layer.on('click', function(e) {
        console.log('clicked');
      });
    }

    let image = document.getElementById('mapimage');
    mapimage.onload = init;
    </script>
  </body>
</html>
